  {% assign button_label = section.settings.button_label %}
  {% assign button_link = section.settings.button_link %}
{%- assign featured_img_url = section.settings.button_icon | img_url: 'master' -%}


<div class="container">
  <div class="row">
    <div class="col-md-12">
      {%- if section.settings.title != blank -%}
      <div class="title-wrapper text-center">
        <h2 class="heading"><span>{{ section.settings.title }}</span></h2>
      </div>
      {%- endif -%}
      {%- if section.settings.contents != blank -%}
      <div class="contents-wrapper text-center">
        {{ section.settings.contents }}
      </div>
      {%- endif -%}

    </div>
  </div>
</div>

<div class="prodIconBar">
  <div class="prodIconBar__inner">
    {% for block in section.blocks %}
    {% if block.type == 'icon' %}
      <div class="prodIcon">
        <div class="prodIcon__inner">
          <div class="prodIcon__wrapper">
            <img class="prodIcon__icon lazyload"
            data-src="{{ block.settings.icon | img_url: '80x' }}"
            alt="{{ block.settings.icon.alt }}">
          </div>
          <div class="prodIcon__text text--15">
            {{ block.settings.text }}
          </div>
        </div>
      </div>
    {% endif %}
    {% endfor %}
  </div>
</div>
<div class="bottom-btn">
        {% if button_label != blank %}
          <a href="{{ button_link }}" class="action_button">
            <img data-srcset="https:{{ featured_img_url }}" alt="{{ section.settings.button_icon.alt }}" {% include 'lazy_load' %}>
            <span class="btn-text">{{ button_label }}</span>
          </a>
        {% endif %}  
</div>

<style>
  #shopify-section-{{section.id}} .heading { 
    text-transform: none;
    {% if section.settings.color_heading != blank %}
    color:{{ section.settings.color_heading }};
    {% endif %}
    font-size: {{ section.settings.font_size_heading }};
    font-weight: {{ section.settings.font_weight_heading }};
    margin-bottom: 50px;
    line-height: 1.2;
  }

  
  #shopify-section-{{section.id}}{
    padding-top: {{ section.settings.padding_top }}px;
    padding-bottom: {{ section.settings.padding_bottom }}px;
    {%- if section.settings.background != blank -%}
    background-color: {{ section.settings.background }};
    {%- endif -%}
    background-image: linear-gradient(0deg, rgb(255, 255, 255) 35%, rgb(240, 244, 244) 100%);
    position: relative;
  }
  .collagen-icons:before, .collagen-icons:after{
  	position: absolute;
    content: "";
    display: block;
    left: 50%;
    transform: translateX(-50%);
    width: 100px;
    border-top: 1px solid #707070;
  }
  .collagen-icons:before{
  	top: 0;
  }
  .collagen-icons:after{
  	bottom: 0;
  }
  .collagen-icons .contents-wrapper{
    max-width: 760px;
    font-size: 20px;
    margin: auto;
  }
  .collagen-icons .contents-wrapper span{
    font-weight: bold;
  }

  .collagen-icons .img-fluid{
    width: initial;
  }
  .collagen-icons .bottom-btn .img-fluid{
  	width: 30px;
  }
  .bottom-btn{
    display: flex;
    justify-content: center;
    padding-top: 50px;
    padding: 50px 15px 0;
  }
  .action_button{
    display: flex;
    align-items: center;
    background: #0FA3FA;
    padding: 10px 19px;
    border-radius: 5px;
    color: #fff;
    font-size: 20px;
    font-weight: 600;
    text-decoration: none;
    line-height: 1;    
  }
  .action_button .btn-text{
    max-width: 280px;
    padding-left: 17px;
  }
  .collagen-icons .prodIconBar{
    background: transparent;
    padding: 50px 0;
  } 
  .collagen-icons .prodIconBar__inner{
  	max-width: 840px;
    position: relative;
  }
  .collagen-icons .prodIconBar__inner:after{
    position: absolute;
    display: block;
    right: -80px;
    top: 30%;
    content: '& more!';
    font-weight: bold;
  }  
  .collagen-icons .prodIcon__wrapper{
    width: 80px;
    height: 80px;
  }

  @media(max-width: 1200px){
    .collagen-icons .prodIconBar__inner:after{
      top: initial;
      right: initial;
      left: 50%;
      bottom: -50px;
      transform: translateX(-50%);
    }
  }
  @media(max-width: 767px){
    #shopify-section-{{section.id}}{
      padding-top: {{ section.settings.padding_top_mob }}px;
      padding-bottom: {{ section.settings.padding_bottom_mob }}px;
    }
    #shopify-section-{{section.id}} .heading { 
      font-size: 35px;
      margin-bottom: 30px;
    }
  }
  
  @media(max-width: 459px){
    .action_button .btn-text{
    	max-width: initial;
    }
  }
  </style>


{% schema %}
{
 "name": "Collagen Icons",
 "class" : "collagen-icons",
 "settings": [
		{
           "type": "text",
           "id": "title",
           "label": "Title",
           "default" : "How to use?"
        },
		{
           "type": "textarea",
           "id": "contents",
           "label": "Contents"
        },
        {
            "type" : "text",
            "id" : "font_size_heading",
            "label" : "Heading Font Size",
            "default" : "50px"
        },
        {
            "type" : "text",
            "id" : "font_weight_heading",
            "label" : "Heading Font Weight",
            "default" : "700"
        },
        {
            "type" : "color",
            "id" : "color_heading",
            "label" : "Heading Color",
            "default" : "#1D293F"
        },
        {
          "type": "image_picker",
          "id": "button_icon",
          "label": "Button Icon"
        },
        {
          "type": "text",
          "id": "button_label",
          "label": "Button label"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button link"
        },
        {
          "type": "header",
          "content" : "Section Style"
        },
        {
          "type": "color",
          "id": "background",
          "label": "Background",
          "default" : "#FFFFFF"
        },
        {
          "type" : "range",
          "id" : "padding_top",
          "label" : "Padding Top",
          "min": 0,
          "max" : 150,
          "step": 10,
          "unit" : "px",
          "default": 60
        },
        {
          "type" : "range",
          "id" : "padding_bottom",
          "label" : "Padding Bottom",
          "min": 0,
          "max" : 150,
          "step": 10,
          "unit" : "px",
          "default": 60
        },
        {
          "type" : "range",
          "id" : "padding_top_mob",
          "label" : "Padding Top - Mobile",
          "min": 0,
          "max" : 150,
          "step": 10,
          "unit" : "px",
          "default": 60
        },
        {
          "type" : "range",
          "id" : "padding_bottom_mob",
          "label" : "Padding Bottom - Mobile",
          "min": 0,
          "max" : 150,
          "step": 10,
          "unit" : "px",
          "default": 40
        }
	],
 "blocks":[
   {
     "type": "icon",
     "name": "Icon",
     "settings":[
       {
         "id": "icon",
         "type": "image_picker",
         "label": "Icon"
       },
       {
         "id": "text",
         "type": "text",
         "label": "Text"
       }
     ]
   }
 ]
}
{% endschema %}

